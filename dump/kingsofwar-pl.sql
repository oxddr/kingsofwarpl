PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE Players (name TEXT, tabletop_id TEXT PRIMARY KEY);
INSERT INTO Players VALUES('Makras','makras');
INSERT INTO Players VALUES('ddr','ddr');
INSERT INTO Players VALUES('Lires','lires');
INSERT INTO Players VALUES('Adam "Athard" Cychner','adam-athard-cychner');
INSERT INTO Players VALUES('Bart','bart3');
INSERT INTO Players VALUES('MiSiO','misio');
INSERT INTO Players VALUES('Nieumarły Pla(nk)ton','nieumary-plankton');
INSERT INTO Players VALUES('Stanisław "Lajon" Urbaniak','stanisaw-lajon-urbaniak');
INSERT INTO Players VALUES('BartoszWaw','bartoszwaw');
INSERT INTO Players VALUES('Eledan','eledan');
INSERT INTO Players VALUES('Gobos','gobos2');
INSERT INTO Players VALUES('Kacper "Alien" Szczytowski','kacper-alien-szczytowski');
INSERT INTO Players VALUES('Lukasz Jarochowski','lukasz-jarochowski');
INSERT INTO Players VALUES('Rafal ''Troll''','rafal-troll');
INSERT INTO Players VALUES('Maciej"UFO" Szczytowski','maciejufo-szczytowski');
INSERT INTO Players VALUES('Grzegorz Gregx','grzegorz-gregx');
INSERT INTO Players VALUES('Teo TomRider','teo-tomrider');
INSERT INTO Players VALUES('Seba','seba');
INSERT INTO Players VALUES('Berdysz','berdysz');
INSERT INTO Players VALUES('Oldwin','oldwin');
INSERT INTO Players VALUES('Myter','myter');
CREATE TABLE Events (id INTEGER PRIMARY KEY AUTOINCREMENT, name TEXT NOT NULL, city TEXT NOT NULL, series TEXT REFERENCES Series (name), tabletop_url TEXT UNIQUE ON CONFLICT FAIL, location TEXT, format INTEGER, date DATE, website TEXT);
INSERT INTO Events VALUES(1,'Inauguracyjny turniej polskiej ligii Kings of War, sezon 2022','Katowice','Liga 2022','https://tabletop.to/inauguracyjny-turniej-polskiej-ligii-kings-of-war-sezon-2022',' Inny Wymiar, Katowice, ul. Bożogrobców 20',1995,'2022-01-22','https://www.facebook.com/events/617366889679424');
INSERT INTO Events VALUES(2,'II turniej Ligii King of War - Kraków','Kraków','Liga 2022','https://tabletop.to/ii-turniej-ligii-kings-of-war-2022-krakow','MDK Grunwaldzka, ul. Grunwaldzka 5 Kraków',1880,'2022-02-26','https://www.facebook.com/events/3008196419443442');
INSERT INTO Events VALUES(3,'Krawaty 13','Warszawa','Krawaty','https://tabletop.to/krawaty-13','Klub Adeptus Mechanicus al. Krakowska 114, Warszawa',1995,'2022-01-19','https://forum.kingsofwar.pl/showthread.php?tid=72');
INSERT INTO Events VALUES(4,'Krawaty 15','Warszawa','Krawaty','https://tabletop.to/krawaty-15','Klub Adeptus Mechanicus al. Krakowska 114, Warszawa',1995,'2022-03-05','https://forum.kingsofwar.pl/showthread.php?tid=78');
INSERT INTO Events VALUES(5,'Krawaty 14','Warszawa','Krawaty','https://tabletop.to/krawaty-14','Klub Adeptus Mechanicus al. Krakowska 114, Warszawa',1880,'2022-02-14','https://forum.kingsofwar.pl/showthread.php?tid=77');
INSERT INTO Events VALUES(6,'Gigantyczny problem z Zielonymi','Wrocław',NULL,NULL,'Bolter, Podwale 6, 50-043 Wrocław',2300,'2022-02-27','https://www.facebook.com/events/360306015602256/');
CREATE TABLE Series (name TEXT PRIMARY KEY NOT NULL);
INSERT INTO Series VALUES('Liga 2022');
INSERT INTO Series VALUES('Liga 2021');
INSERT INTO Series VALUES('Krawaty');
CREATE TABLE Results (player TEXT REFERENCES Players (tabletop_id), event INTEGER REFERENCES Events (id), faction TEXT REFERENCES Factions (faction), tp INTEGER, bonus_tp INTEGER, attrition_points INTEGER, UNIQUE (player, event) ON CONFLICT REPLACE);
CREATE TABLE Factions (faction TEXT PRIMARY KEY UNIQUE NOT NULL) WITHOUT ROWID;
INSERT INTO Factions VALUES('Abyssal Dwarfs');
INSERT INTO Factions VALUES('Basilea');
INSERT INTO Factions VALUES('Dwarfs');
INSERT INTO Factions VALUES('Elves');
INSERT INTO Factions VALUES('Empire of Dust');
INSERT INTO Factions VALUES('Forces of Nature');
INSERT INTO Factions VALUES('Forces of the Abyss');
INSERT INTO Factions VALUES('Free Dwarfs');
INSERT INTO Factions VALUES('Goblins');
INSERT INTO Factions VALUES('Halflings');
INSERT INTO Factions VALUES('Kingdoms of Men');
INSERT INTO Factions VALUES('League of Rhordia');
INSERT INTO Factions VALUES('Nightstalkers');
INSERT INTO Factions VALUES('Northern Alliance');
INSERT INTO Factions VALUES('Ogres');
INSERT INTO Factions VALUES('Orcs');
INSERT INTO Factions VALUES('Order of the Brothermark');
INSERT INTO Factions VALUES('Order of the Green Lady');
INSERT INTO Factions VALUES('Ratkin');
INSERT INTO Factions VALUES('Ratkin Slaves');
INSERT INTO Factions VALUES('Riftforged Orcs');
INSERT INTO Factions VALUES('Salamanders');
INSERT INTO Factions VALUES('Sylvan Kin');
INSERT INTO Factions VALUES('The Herd');
INSERT INTO Factions VALUES('Trident Realm of Neritica');
INSERT INTO Factions VALUES('Twilight Kin');
INSERT INTO Factions VALUES('Undead');
INSERT INTO Factions VALUES('Varangur');
DELETE FROM sqlite_sequence;
INSERT INTO sqlite_sequence VALUES('Events',6);
COMMIT;
